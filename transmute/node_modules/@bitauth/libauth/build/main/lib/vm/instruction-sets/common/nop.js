"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.disabledOperations = exports.disabledOperation = exports.nonOperations = exports.opNop = void 0;
const errors_1 = require("./errors");
const opcodes_1 = require("./opcodes");
exports.opNop = (flags) => (state) => flags.disallowUpgradableNops
    ? errors_1.applyError(errors_1.AuthenticationErrorCommon.calledUpgradableNop, state)
    : state;
exports.nonOperations = (flags) => ({
    [opcodes_1.OpcodesCommon.OP_NOP]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP1]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP4]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP5]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP6]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP7]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP8]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP9]: exports.opNop(flags),
    [opcodes_1.OpcodesCommon.OP_NOP10]: exports.opNop(flags),
});
/**
 * "Disabled" operations are explicitly forbidden from occurring anywhere in a
 * script, even within an unexecuted branch.
 */
exports.disabledOperation = () => (state) => errors_1.applyError(errors_1.AuthenticationErrorCommon.unknownOpcode, state);
exports.disabledOperations = () => ({
    [opcodes_1.OpcodesCommon.OP_CAT]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_SUBSTR]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_LEFT]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_RIGHT]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_INVERT]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_AND]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_OR]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_XOR]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_2MUL]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_2DIV]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_MUL]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_DIV]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_MOD]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_LSHIFT]: exports.disabledOperation(),
    [opcodes_1.OpcodesCommon.OP_RSHIFT]: exports.disabledOperation(),
});
//# sourceMappingURL=nop.js.map