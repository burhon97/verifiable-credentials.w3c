"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/* eslint-disable @typescript-eslint/no-magic-numbers, functional/no-expression-statement */
const ava_1 = __importDefault(require("ava"));
const lib_1 = require("../../../lib");
const prefixDataPushVectors = [
    ['', '00'],
    ['81', '4f'],
    ['01', '51'],
    ['02', '52'],
    ['03', '53'],
    ['04', '54'],
    ['05', '55'],
    ['06', '56'],
    ['07', '57'],
    ['08', '58'],
    ['09', '59'],
    ['0a', '5a'],
    ['0b', '5b'],
    ['0c', '5c'],
    ['0d', '5d'],
    ['0e', '5e'],
    ['0f', '5f'],
    ['10', '60'],
    ['00', '0100'],
    ['0000', '020000'],
    ['80', '0180'],
    ['0081', '020081'],
    ['123456', '03123456'],
    ['123456789012345678901234567890', '0f123456789012345678901234567890'],
];
ava_1.default('prefixDataPush', (t) => {
    prefixDataPushVectors.map(([inputHex, outputHex]) => {
        t.deepEqual(lib_1.encodeDataPush(lib_1.hexToBin(inputHex)), lib_1.hexToBin(outputHex));
        return undefined;
    });
    t.deepEqual(lib_1.encodeDataPush(Uint8Array.from(lib_1.range(lib_1.PushOperationConstants.maximumPushData1Size))), Uint8Array.from([
        lib_1.PushOperationConstants.OP_PUSHDATA_1,
        0xff,
        ...lib_1.range(lib_1.PushOperationConstants.maximumPushData1Size),
    ]));
    t.deepEqual(lib_1.encodeDataPush(Uint8Array.from(lib_1.range(lib_1.PushOperationConstants.maximumPushData1Size + 1))), Uint8Array.from([
        lib_1.PushOperationConstants.OP_PUSHDATA_2,
        0,
        1,
        ...lib_1.range(lib_1.PushOperationConstants.maximumPushData1Size + 1),
    ]));
    t.deepEqual(lib_1.encodeDataPush(Uint8Array.from(lib_1.range(lib_1.PushOperationConstants.maximumPushData2Size))), Uint8Array.from([
        lib_1.PushOperationConstants.OP_PUSHDATA_2,
        0xff,
        0xff,
        ...lib_1.range(lib_1.PushOperationConstants.maximumPushData2Size),
    ]));
    t.deepEqual(lib_1.encodeDataPush(Uint8Array.from(lib_1.range(lib_1.PushOperationConstants.maximumPushData2Size + 1))), Uint8Array.from([
        lib_1.PushOperationConstants.OP_PUSHDATA_4,
        0,
        0,
        1,
        0,
        ...lib_1.range(lib_1.PushOperationConstants.maximumPushData2Size + 1),
    ]));
});
//# sourceMappingURL=push.spec.js.map